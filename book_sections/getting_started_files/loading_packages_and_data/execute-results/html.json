{
  "hash": "9f10697a21bf6d835fd3b11b419d2a71",
  "result": {
    "engine": "knitr",
    "markdown": "### • 1. Load packages and data {.unnumbered #loading_packages_and_data}\n\n\n::: {.motivation style=\"background-color: #ffe6f7; padding: 10px; border: 1px solid #ddd; border-radius: 5px;\"}\n\n\n**Motivating scenario:**  you would like to get started having a peek into your data in R, and want to load the data and the packages to get started.        \n\n**Learning goals: By the end of this sub-chapter you should be able to**  \n\n1. Understand what an R package is \n   - Install an  R package with the [`install.packages()`](https://stat.ethz.ch/R-manual/R-devel/library/utils/html/install.packages.html) function (the first time you use it).   \n   - Load an R package with the [`library()`](https://stat.ethz.ch/R-manual/R-devel/library/base/html/library.html) function (in every R session in which you use the package).   \n2. Use the [`read_csv()`](https://readr.tidyverse.org/reference/read_delim.html) function in the [`readr`](https://readr.tidyverse.org/) package to load a file from the internet into R.  \n\n:::     \n\n---  \n\n## R packages\n\n\nWhile `R` has many built-in functions, **packages** provide even more functions to extend `R`'s capabilities. Packages can offer alternative (often more efficient and user-friendly) approaches to tasks that can be done with base `R` functions, or they can enable entirely new functionality that is not included in base `R` at all. In fact, `R` packages are a major way that the latest statistical and computational methods in various fields are shared with practitioners. \n\nBelow I introduce the [`readr`](https://readr.tidyverse.org/index.html),  and  [`dplyr`](https://dplyr.tidyverse.org/index.html) packages. Because these packages are so useful for streamlining data import, manipulation, and cleaning, I use them in nearly every R project.  I also introduce the [`conflicted`](https://conflicted.r-lib.org/) package, which identifies any functions with shared names across packages, and allows us to tell `R` which function we mean when more than one function has the same name. \n\n\n**Install a package the first time you use it** The first time you need a package, install it with the [install.packages()](https://stat.ethz.ch/R-manual/R-devel/library/utils/html/install.packages.html) function. Here the argument is the package (or vector of packages) you want to install. So, to install the packages above, type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# We do this the first time we need a package.\ninstall.packages(c(\"readr\", \"dplyr\", \"conflicted\"))\n```\n:::\n\n\n**Load installed packages every time you open RStudio**  You only install a package once, but you must use the [`library()`](https://stat.ethz.ch/R-manual/R-devel/library/base/html/library.html) function, as I demonstrate below, to load installed packages every time you open R. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# We do this every time we open R and want to use these packages.\nlibrary(conflicted)\nlibrary(readr)\nlibrary(dplyr)\n```\n:::\n\n\n\n\n## Reading data into R\n\nRather than typing large datasets into R, we usually want to read in data that is already stored somewhere. For now, we will load data saved as a csv file from the internet with the [`read_csv(link)`](https://readr.tidyverse.org/reference/read_delim.html) structure from the [`readr`](https://readr.tidyverse.org/) package. Later, we will revisit the challenge of importing data from other file types and locations into R.  \n\n:::{.aside}\n**Loading data:** See posit\\'s [recipe for importing data](https://posit.cloud/learn/recipes/basics/ImportA1) for more detail. Note also that [`read.csv()`](https://stat.ethz.ch/R-manual/R-devel/library/utils/html/read.table.html) is a base R function similar to [`read_csv()`](https://readr.tidyverse.org/reference/read_delim.html), but it behaves a bit differently -- for example it reads data in as a dataframe, not a tibble.   \n:::\n  \n\nBelow, I show an example of reading pollinator visitation data from  [a link on my GitHub](https://raw.githubusercontent.com/ybrandvain/datasets/refs/heads/master/pollinator_visits.csv). After loading a dataset, you can see the first ten lines and all the columns that fit by simply typing its name. Alternatively, the [`View()`](https://stat.ethz.ch/R-manual/R-devel/library/utils/html/View.html) function opens up the full spreadsheet for you to peruse.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nril_link <- \"https://raw.githubusercontent.com/ybrandvain/datasets/refs/heads/master/clarkia_rils.csv\"\nril_data <- readr::read_csv(ril_link)\nril_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 593 × 17\n   ril   location prop_hybrid mean_visits growth_rate petal_color petal_area_mm\n   <chr> <chr>          <dbl>       <dbl> <chr>       <chr>               <dbl>\n 1 A1    GC             0           0     1.272       white                44.0\n 2 A100  GC             0.125       0.188 1.448       pink                 55.8\n 3 A102  GC             0.25        0.25  1.8O        pink                 51.7\n 4 A104  GC             0           0     0.816       white                57.3\n 5 A106  GC             0           0     0.728       white                68.6\n 6 A107  GC             0.125       0     1.764       pink                 66.3\n 7 A108  GC            NA          NA     1.584       <NA>                 51.5\n 8 A109  GC             0           0     1.476       white                48.1\n 9 A111  GC             0          NA     1.144       white                51.6\n10 A112  GC             0.25        0     1           white                89.8\n# ℹ 583 more rows\n# ℹ 10 more variables: date_first_flw <dbl>, node_first_flw <dbl>,\n#   petal_perim_mm <dbl>, asd_mm <dbl>, protandry <dbl>, stem_dia_mm <dbl>,\n#   lwc <dbl>, crossDir <chr>, num_hybrid <dbl>, offspring_genotyped <dbl>\n```\n\n\n:::\n:::\n\n\n:::aside\n**`package::function()` format:** I read in the data with the [`read_csv()`]() function in the [readr package](https://readr.tidyverse.org/) by typing: `readr::read_csv()`, but typing [`read_csv()`](https://readr.tidyverse.org/reference/read_delim.html) gives the same result. The  `package::function()` format comes in handy when two functions in different packages have the same name.\n:::\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}